<div class="titre-page d-flex align-items-center gap-2">
  <i class="fas fa-folder-open titre-icon"></i>
  <h4>Reclamation</h4>
</div>
<br>

<div class="datatable mt-3">
  <table class="table">
    <thead class="datatable-header">
      <tr>
        <th><strong>ID</strong></th>
        <th><strong>Date</strong></th>
        <th><strong>Objet</strong></th>
        <th><strong>Description</strong></th>
        <th><strong>Status</strong></th>
        <th><strong>Actions</strong></th>
      </tr>
    </thead>
    <tbody class="text-sm">
      <tr *ngFor="let reclamation of reclamationList">
        <td>{{ reclamation.id }}</td>
        <td>{{ reclamation.dateEnvoi | date: 'short' }}</td>
        <td>{{ reclamation.objet }}</td>
        <td>{{ reclamation.message }}</td>
        <td>
            <span *ngIf="reclamation.statut === 'EN_ATTENTE'" class="badge badge-warning">En attente</span>
          <span *ngIf="reclamation.statut === 'REFUSEE'" class="badge badge-danger">Refusée</span>
          <span *ngIf="reclamation.statut === 'EN_COURS'" class="badge badge-primary">En cours</span>
          <span *ngIf="reclamation.statut === 'TRAITEE'" class="badge badge-success">Traitée</span>
        </td>
        <td>
          <button class="dropdown" ngbDropdown placement="bottom-right">
            <a class="dropdown-toggle card-drop" data-toggle="dropdown" ngbDropdownToggle aria-expanded="false">
              <i class="btn btn-sm btn-rounded fas fa-tasks font-size-13"></i>

            </a>
            <ul class="dropdown-menu dropdown-menu-end" ngbDropdownMenu>
              <li><a class="dropdown-item" (click)="updateStatus(reclamation.id, 'EN_COURS')"> &nbsp; En cours</a></li>
              <li><a class="dropdown-item" (click)="updateStatus(reclamation.id, 'TRAITEE')"> &nbsp; Traitée</a></li>
            </ul>
          </button>
          <button type="button" class="btn btn-danger btn-sm btn-rounded" (click)="onDelete(reclamation.id)">
            <i class="fas fa-trash-alt"></i>
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>